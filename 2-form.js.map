{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["import * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nconst formData = {\n  email: '',\n  message: '',\n};\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst formEl = document.querySelector('.feedback-form');\n\nfillFormFields();\n\nformEl.addEventListener('input', handleFormChange);\n\nfunction handleFormChange(e) {\n  const fieldName = e.target.name;\n  const fieldValue = e.target.value.trim();\n\n  formData[fieldName] = fieldValue;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction loadFormFieldsValues() {\n  try {\n    return JSON.parse(localStorage.getItem(STORAGE_KEY));\n  } catch (error) {\n    console.error(`JSON parsing error: ${error}`);\n    return null;\n  }\n}\n\nfunction fillFormFields() {\n  const dataForm = loadFormFieldsValues();\n\n  if (!dataForm) {\n    return;\n  }\n\n  for (const key in dataForm) {\n    formEl.elements[key].value = dataForm[key];\n    formData[key] = dataForm[key];\n  }\n}\n\nformEl.addEventListener('submit', handleSubmitForm);\n\nfunction handleSubmitForm(e) {\n  e.preventDefault();\n\n  for (const key in formData) {\n    if (!formData[key]) {\n      const instance = basicLightbox.create(`\n    <div class=\"modal\">\n        <p>\n            Fill please all fields.\n        </p>\n    </div>\n`);\n      instance.show();\n      return;\n    }\n  }\n\n  console.log(`FormData => ${JSON.stringify(formData)}`);\n  localStorage.removeItem(STORAGE_KEY);\n  formEl.reset();\n  for (const key in formData) {\n    formData[key] = '';\n  }\n}\n"],"names":["formData","STORAGE_KEY","formEl","fillFormFields","handleFormChange","fieldName","fieldValue","loadFormFieldsValues","error","dataForm","key","handleSubmitForm","basicLightbox.create"],"mappings":"wIAGA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EACMC,EAAc,sBAEdC,EAAS,SAAS,cAAc,gBAAgB,EAEtDC,IAEAD,EAAO,iBAAiB,QAASE,CAAgB,EAEjD,SAASA,EAAiB,EAAG,CAC3B,MAAMC,EAAY,EAAE,OAAO,KACrBC,EAAa,EAAE,OAAO,MAAM,KAAI,EAEtCN,EAASK,CAAS,EAAIC,EACtB,aAAa,QAAQL,EAAa,KAAK,UAAUD,CAAQ,CAAC,CAC5D,CAEA,SAASO,GAAuB,CAC9B,GAAI,CACF,OAAO,KAAK,MAAM,aAAa,QAAQN,CAAW,CAAC,CACpD,OAAQO,EAAO,CACd,eAAQ,MAAM,uBAAuBA,CAAK,EAAE,EACrC,IACR,CACH,CAEA,SAASL,GAAiB,CACxB,MAAMM,EAAWF,IAEjB,GAAKE,EAIL,UAAWC,KAAOD,EAChBP,EAAO,SAASQ,CAAG,EAAE,MAAQD,EAASC,CAAG,EACzCV,EAASU,CAAG,EAAID,EAASC,CAAG,CAEhC,CAEAR,EAAO,iBAAiB,SAAUS,CAAgB,EAElD,SAASA,EAAiB,EAAG,CAC3B,EAAE,eAAc,EAEhB,UAAWD,KAAOV,EAChB,GAAI,CAACA,EAASU,CAAG,EAAG,CACDE,EAAAA,OAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAM3C,EACc,KAAI,EACb,MACD,CAGH,QAAQ,IAAI,eAAe,KAAK,UAAUZ,CAAQ,CAAC,EAAE,EACrD,aAAa,WAAWC,CAAW,EACnCC,EAAO,MAAK,EACZ,UAAWQ,KAAOV,EAChBA,EAASU,CAAG,EAAI,EAEpB"}